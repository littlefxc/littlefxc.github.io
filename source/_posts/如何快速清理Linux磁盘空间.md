---
title: 如何快速清理Linux磁盘空间
date: 2020-03-05 11:13:47
categories: Linux
tags:
- Linux
---

## 前言:

    在生产环境中,首先服务器磁盘满了之后,会导致一系列小问题,网站能正常访问, 但是不能登录以及一些奇奇怪怪的问题,但是不能耽误用户访问呀,所以我们的及 时清理磁盘空间出来,让MySQL能够正常写入各种数据

<!-- more -->

我们先直接操作,然后在来说说有些什么原因导致磁盘使用很快的原因

    首先我们进入到/目录  
    df -h 查看我们服务器的磁盘信息--如下字样表示的挂载点已经满了
        /dev/vda1        40G  40G   0G  100% /
    接下来我们在进行筛选,看看到底是什么文件占用比较大,能删除的话我们可以直接先删除掉
    du -h --max-depth=1 我们在查看当前目录下具体是哪一个目录里面占用比较大
    第一次执行的时候可能会有一点点慢,不着急,耐心等待一下,显示出来的第一列就是该目录占用的总共大小,第二列就是目录
    最后一行的时候我们会看到.这个目录下,这个我们可以忽略掉,不要问我为什么能忽略
    查看你的具体是哪一个目录占用比较大,那我们就进入到哪一个目录
    进入当目录之后还是使用  du -h --max-depth=1  来进行筛选查看目录下是文件还是目录占用大,如果是目录继续进行筛选
    筛选之后可以使用 ls –lhS 来进行文件从大到小排序,如果文件没有必要的用处的时候我们就可以对其进行删除操作了

## 总结:

其实在本次素材中,我们使用的到的Linux命令就四个

    cd / 进入到根目录
    df -h 查看当前磁盘情况
    du -h --max-depth=1 查看当前目录下各目录的大小
    ls –lhS 查看当前目录下最大的文件
    接下来我们来分析一下有哪些原因会造成磁盘占用快
        1,生产环境中是否还是开启了不必要的日志记录,除了要做数据分析的日志其他日志能关就关掉
        2,是否存在僵尸文件,即已删除文件因句柄被占用未释放导致相应空间未释放。
        3,数据库中是否存在很多垃圾信息没及时清理掉,建议在开发阶段中不要使用生产环境的库
        4,是否有生成很多静态页面?
        5,省略N字,写的不好的地方,欢迎大家补充